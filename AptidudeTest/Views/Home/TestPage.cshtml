@*@model AptitudeTest2.Models.Exam
	@{
	ViewData["Title"] = "Test Page";
	}

	<div class="text-center">
	<h1 class="display-4">Welcome</h1>
	<p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
	</div>
	<h3>@Model.ExamName</h3>
	@foreach (var item in Model.Questions) {
	<h5>@item.Text</h5>
	@foreach(var i in @item.choices){
	<p>@i.Text</p>
	}
	}*@

@model Exam
@{
	ViewData["Title"] = Model.ExamName;
	int i = 1;
	char c = 'A';
}


<!doctype html>
<html>

<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1'>
	<title>TestPage</title>
	<link rel="stylesheet" href="~/TestPage.css">
</head>
<div class="row">
	<h3 class="col-10">
		@Model.ExamName
		<div>Registration closes in <span id="time">05:00</span> minutes!</div>
	</h3>
	<div class="col-2 align-content-end">
		<span>@ViewData["FullName"]</span><br />
		<span>@ViewData["Phone"]</span>
	</div>
</div>
<body oncontextmenu='return false' class='snippet-body'>
	<form asp-controller="Results" asp-action="Create" id="myquiz">
		<div class="container mb-5">
			<div class="row">
				@foreach (var question in Model.Questions)
				{
					<div class="col-12">
						<p class="fw-bold"><span>@i</span> @question.Text</p>
						<input type="hidden" name="questionId" value="@question.Id" />

						@foreach (var choice in question.Choices)
						{
							<div>
								<input type="radio" name="question_@question.Id" value="@choice.Id" />
								<label>@choice.Text</label>
							</div>
						}
					</div>
					i++;
				}
				@*	<div class="col-12">
					<p class="fw-bold mt-5">
					2. Complete the following sentences:Alice couldn't _______ the humilation any
					longer and stormed out of the room red as a bed
					</p>
					<div>
					<div class="row">
					<div class="col-md-6">
					<input type="radio" name="box" id="five"> <label for="five"
					class="box fifth w-100">
					<div class="course"> <span class="circle"></span> <span class="subject">is</span> </div>
					</label>
					</div>
					<div class="col-md-6">
					<input type="radio" name="box" id="six"> <label for="six"
					class="box sixth w-100">
					<div class="course">
					<span class="circle"></span> <span class="subject"> was </span>
					</div>
					</label>
					</div>
					<div class="col-md-6">
					<input type="radio" name="box" id="seven"> <label for="seven"
					class="box seveth w-100">
					<div class="course">
					<span class="circle"></span> <span class="subject"> will </span>
					</div>
					</label>
					</div>
					<div class="col-md-6">
					<input type="radio" name="box" id="eight"> <label for="eight"
					class="box eighth w-100">
					<div class="course">
					<span class="circle"></span> <span class="subject">
					None of the
					above
					</span>
					</div>
					</label>
					</div>
					</div>
					</div>
					</div>*@
				<input type="hidden" name="ExamId" value="@Model.Id" />
				<input type="hidden" name="UserId" value="@ViewData["Id"]" />


				<div class="col-12">
					<div class="d-flex justify-content-center">

						<button class="btn btn-primary px-4 py-2 fw-bold">
							@if (@Model.Id == 3)
							{
								<span>Finish</span>
							}
							else
							{
								<span>Continue</span>
							}
						</button>
					</div>
				</div>
			</div>
		</div>
	</form>
	<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js'></script>


	<script>
			function startTimer(duration, display) {
			var timer = duration, minutes, seconds;
			setInterval(function () {
				minutes = parseInt(timer / 60, 10);
				seconds = parseInt(timer % 60, 10);

				minutes = minutes < 10 ? "0" + minutes : minutes;
				seconds = seconds < 10 ? "0" + seconds : seconds;

				display.textContent = minutes + ":" + seconds;

				if (--timer < 0) {
					 clearInterval(timer);
					document.getElementById('myquiz').submit();
				}
			}, 1000);
		}

		window.onload = function () {
			var fiveMinutes = 100000000000000,
				display = document.querySelector('#time');
			startTimer(fiveMinutes, display);
		};
	</script>
</body>

</html>